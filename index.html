<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <img rel="icon" type="image/svg+xml" src="vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login using Metamask </title><!--change-->
    <script src="https://cdn.ethers.io/lib/ethers-5.6.4.umd.min.js" type="application/javascript"></script> <!--addition-->
    <script>
      function web3_check_metamask() {
          if (!window.ethereum) {
              console.error('No metamask');
              alert('No metamask extension. Kindly install Metamask before proceeding.');
              return false;
          }else {
              console.log('MetaMask detected.');
              return true;
          }
      }        
      
      async function web3_metamask_login() {
                if ( web3_check_metamask() ) {
                    console.log('Initate Login Process');
                    const provider = new ethers.providers.Web3Provider(window.ethereum);                    
                    await provider.send("eth_requestAccounts", []);
                    console.log("Connection successful."); 
                    const address = await provider.getSigner().getAddress();
                    console.log(address);   
                }
            }       
  </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <p>Check if MetaMask is installed: <a href="#!" onclick="web3_check_metamask();">check</a></p>
    <p>Initate the Login process: <a href="#!" onclick="web3_metamask_login();">Login using MetaMask</a></p>
  </body>
</html>
